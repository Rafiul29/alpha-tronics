{"mappings":"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","sources":["src/app.js"],"sourcesContent":["const productsWrapper = document.querySelector(\".product-wrapper\")\nconst addedProductWrapper=document.querySelector(\".added-products\")\nconst cartModal=document.querySelector(\".cart-modal\")\nconst cartClose= document.querySelector(\".cart-close\")\nconst cartOpenbtn=document.querySelector(\".cart-open-btn\")\nconst itemHoldCount=document.querySelector(\".item-count\")\n\n\n\nfunction getProducts() {\n    fetch('http://localhost:3000/products')\n        .then(res => {\n            if (!res.ok) throw new Error(\"Something went wrong\")\n            return res.json();\n        })\n        .then(data =>{\n          renderProducts(data)\n          loadingLocalData(data)\n          \n        })\n        .catch(err => renderError(err.message))\n}\n\ngetProducts();\n\nfunction currencyFormatter(price) {\n    return price.toLocaleString(\"en-us\", {\n        style: \"currency\",\n        currency: \"USD\",\n    })\n}\n\nfunction renderProducts(products) {\n    products.forEach(product => {\n        const html = `\n         <div class=\"products overflow-hidden w-96 h-auto bg-white/75 backdrop-blur-lg rounded-xl shadow-lg shadow-gray-200 \">\n        <div class=\"product-img h-60 overflow-hidden flex justify-center items-center\">\n          <img src=${product.image}\n          class=\"w-full block h-60 p-5\"\n          alt=${product.title}>\n        </div>\n        <div class=\"product-texts p-5 flex flex-col gap-1\">\n        <p class=\"text-sm uppercase font-bold tracking-widest text-sky-500\">${product.catagory}\n        </p>\n        <h1 class=\"text-2xl font-semibold truncate \">\n        ${product.title}\n        </h1>\n        <p class=\"text-xl text-rose-500\">${currencyFormatter(product.price)}<span class=\"text-sm text-gray-600\">(${product.review} reviews)</span>\n        </p>\n        <button\n        data-id=\"${product.id}\"\n        class=\"add-to-cart-btn bg-sky-500 self-start text-sky-50 p-2 px-5 rounded shadow-lg shadow-sky-200 font-semibold hover:shadow-rose-200 hover:bg-rose-500 hover:text-rose duration-300\">Add to Cart\n        </button>\n        </div>\n      </div>\n    `;\n        productsWrapper.insertAdjacentHTML(\"afterbegin\", html)\n    });\n\n    //add to cart event\n    const addToCartsBtns = document.querySelectorAll(\".add-to-cart-btn\")\n \n    addToCartsBtns.forEach(btn => {\n        btn.addEventListener(\"click\", function (e) {\n            const id = e.target.dataset.id;\n            //calling another fetch function\n            getSingleProductData(id)\n            //cart open\n            cartModal.classList.remove('hidden');\n        })\n    })\n\n}\n\nfunction getSingleProductData(id) {\n    fetch(`http://localhost:3000/products/${id}`)\n        .then(res => res.json())\n        .then(data =>{\n          renderSingleProduct(data)\n          saveInLocalStorage(data)\n        })\n}\nfunction saveInLocalStorage(product){\n  //get data from localstorage\n  const greetingLocalData=JSON.parse(localStorage.getItem(`item-${product.id}`))\n  //if data exists ,return null\n  if(greetingLocalData) return null\n  //if not exist ,set \n  if(!greetingLocalData){\n    localStorage.setItem(`item-${product.id}`,JSON.stringify(product))\n  }\n}\n\nfunction loadingLocalData(products){\n  let localData=[]\n\n  for(let i=0; i<=products.length; i++){\n    const dataParsing=JSON.parse(localStorage.getItem(`item-${i}`));\n    if(dataParsing) localData.push(dataParsing);\n  }\n\n  //render local Data\n  localData.forEach((product)=>{\n    renderSingleProduct(product)\n  })\n\n\n  //render item count\n  const itemCount=localData.length;\n\n  itemHoldCount.textContent=itemCount\n}\n\n\n\n\n\n\n\nfunction renderSingleProduct(product) {\n    const html = `\n        <div class=\"added-product grid grid-cols-4 border-b pb-2 gap-2 overflow-hidden\">\n            <div class=\"img overflow-hidden w-20 rounded flex justify-center items-center  \">\n              <img src=${product.image} alt=${product.title}\n              class=\"block w-full rounded\"\n              >\n            </div>\n            <div class=\"texts flex flex-col gap-2 col-span-2\">\n              <h4 class=\"font-semibold\">=${product.title}</h4>\n              <div class=\"flex justify-between items-center\">\n                <p class=\"price text-rose-500 font-bold\">${currencyFormatter(product.price)}</p>\n                <p class=\"font-semibold text-xl overflow-hidden flex cursor-pointer b\">\n                  <span class=\"bg-sky-500 text-sky-50 px-2 cursor-pointer active:bg-gray-700\">-</span>\n                  <span class=\"px-2\">1</span>\n                  <span class=\"bg-sky-500 text-sky-50 px-2 cursor-pointer active:bg-gray-700\">+</span>\n                </p>\n              </div>\n            </div>\n            <button onClick=\"removeItem(${product.id})\" class=\"remove-btn justify-self-end hover:text-rose-500\">\n              <i class=\"fa-regular fa-trash-can \"></i>\n            </button>\n          </div>\n        `;\n        addedProductWrapper.insertAdjacentHTML(\"afterbegin\",html)\n}\n\nfunction removeItem(id){\nlocalStorage.removeItem(`item-${id}`)\n}\n\ncartClose.addEventListener(\"click\",function(){\n cartModal.classList.add(\"hidden\")\n})\n\n\n//cart open from cart open btn\ncartOpenbtn.addEventListener(\"click\",function(){\n    cartModal.classList.remove(\"hidden\")\n    \n})\n\n// error method\nfunction renderError(errMsg) {\n    productsWrapper.innerHTML = \"\";\n    const html = `\n    <p>${errMsg}</p>\n    `;\n    productsWrapper.insertAdjacentHTML(\"afterbegin\", html);\n}\n"],"names":[],"version":3,"file":"index.816e7b21.js.map","sourceRoot":"/__parcel_source_root/"}